<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
<script>
  const gameId = window.location.pathname.split('/')[1];
  var socket = io();
  socket.emit('join-game', gameId)

  window.addEventListener('DOMContentLoaded', () => {
    document.querySelector('#submit-user').addEventListener('click', function() {
      var username = document.querySelector('#username').value;
      socket.emit('new-user', username);

      document.querySelector('#user-placeholder').innerText = username;
      document.querySelector('#join').style.display = 'none';
      document.querySelector('#game').style.display = 'block';
    });

    document.querySelector('#user-ready').addEventListener('change', function(e) {
      socket.emit('user-ready', e.target.checked);
    });

    socket.on('user-list', (users) => {
      console.log('users', users);
    });
  });
</script>
<h1>Chameleon game</h1>

<div id="join">
    <input id="username" type="text" />
    <button id="submit-user">Enter</button>
</div>

<div id="game" style="display: none">
    You are connected, <span id="user-placeholder"></span><br />
    <input type="checkbox" id="user-ready" />
    <label for="user-ready">
        I am ready
    </label>

    <div>

    </div>
</div>
